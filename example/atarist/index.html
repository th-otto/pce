<!DOCTYPE html>
<html>
<head>
<meta http-equiv="content-type" content="text/html;charset=UTF-8" />
<title>pce.js Atari ST in the browser | atari st emulator</title>
    <style type="text/css">
    * {
      font-family: sans-serif;
    }
    p {
      font-size: 14px;
      margin: 8px 0;
      color: #000;
    }
    .pcejs {
      margin-left: auto;
      margin-right: auto;
      text-align: center;
      font-family: sans-serif;
      display: block;
      /* the canvas *must not* have any border or padding, or mouse coords will be wrong */
      border: 0px none;
      padding: 0;
    }
    div.pcejs-border {
      border: none;
    }
    .pcejs-canvas {
      cursor: none;
      width: 640px;
      height: 400px;
    }
    .pcejs-container {
      margin-top: 32px;
      text-align: center;
    }
    .pcejs-controls {
      padding-bottom: 10px;
    }
    h1 { font-weight: normal; }
    h1 small { color: #999; font-size: 80% }
    </style>
  </head>
  <body>
    <div class="pcejs pcejs-container">
      <h1>Atari ST</h1>
      <div class="pcejs pcejs-loading-status" id="pcejs-loading-status">Downloading...</div>

      <div class="pcejs">
        <canvas class="pcejs pcejs-canvas" id="pcejs-canvas" oncontextmenu="event.preventDefault()"></canvas>
      </div>

<div id='controls' class="pcejs-controls">
  <span><input type="checkbox" id="resize">Resize canvas</span>
  <span><input type="checkbox" id="pointerLock" checked>Lock/hide mouse pointer &nbsp;&nbsp;&nbsp;</span>
  <span><input type="button" value="Fullscreen"
         onclick="Module.requestFullscreen(document.getElementById('pointerLock').checked, document.getElementById('resize').checked)">
        </span>
</div>

      <div class="pcejs">
      <p>This is an Atari ST running in the <a href="https://github.com/jsdf/pce" target="_blank">pce.js emulator</a>.</p>
      <p>It is using EmuTOS.</p>
    <p class="pcejs">press esc + &uarr; to zoom in, esc + &darr; to zoom out</p>
      </div>

<textarea class="emscripten" id="output" rows="8" style="display:block"></textarea>
    <script type="text/javascript" src="bundle.js"></script>

    </div>

<!--
<script type="text/javascript">
    // retarget mouse events on body
    (function(){
      var pcejsCanvas = document.getElementById('pcejs-canvas')

      function retriggerEvent(event) {
        if (event.pcejsRetriggered) return

        var retriggeredEvent = new MouseEvent(event.type, event)
        retriggeredEvent.pcejsRetriggered = true

        pcejsCanvas.dispatchEvent(retriggeredEvent)
      }

      [
        'mousedown',
        'mouseenter',
        'mouseleave',
        'mousemove',
        'mouseout',
        'mouseover',
        'mouseup',
        'click',
        'dblclick',
      ].forEach(function(eventType) {
        document.addEventListener(eventType, retriggerEvent)
      })

    })()
    </script>
-->
  </body>
</html>
